<!DOCTYPE html>
<html><head>
    <title>littleboy97学习笔记</title><meta charset="utf-8">
    
<link rel="stylesheet" href="/css/main.css">
<!-- 引入配置文件 -->
    
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
<!-- 字体图片库 -->
    
<link rel="stylesheet" href="/lib/highlight/styles/atom-one-dark.css">
<!-- 代码高亮库 -->
<meta name="generator" content="Hexo 6.3.0"></head>
<body>
    <div id="main">
        <aside id="aside"><!-- 搜索栏 -->
<div id="search"><input class="search-input" type="text" placeholder="search"><icon id="search-icon" class="fa fa-bars" title="收起目录"></div>
<!-- 侧边目录栏 -->
<div id="tree">
</div><div id="toc"></div> 
<!-- 引入备案<footer id="footer"><a href="https://beian.miit.gov.cn" target="_blank">粤ICP备2024236103号</a></footer>--></aside>		<!-- 引入侧边栏-->
        <nav><div>
    <!-- 显示侧边栏 --><icon id="asideshow" class="fa fa-bars" title="显示侧边栏"></icon><ul id="menu">
    <!-- 内部链接本页面直接跳转 -->
    
    <li class="menu-item"><a href="/index.html" class="menu-item-link">主页</a></li>
    
    <li class="menu-item"><a href="/search/index.html" class="menu-item-link">搜索</a></li>
    
    <li class="menu-item"><a href="/Project/index.html" class="menu-item-link">技能</a></li>
    
    <li class="menu-item"><a href="/工具网站/index.html" class="menu-item-link">网站</a></li>
    
    <!-- 外部链接打开新的窗口跳转 -->
    
    <li class="menu-item"><a href="https://github.com/wodemingzihenchang" class="menu-item-link" target="_blank">github</a></li>
    <li class="menu-item"><a href="https://gitee.com/littleboy97" class="menu-item-link" target="_blank">gitee</a></li></ul>
</div></nav>	<!-- 引入导航 -->
        <div id="content"><div>
    <span id="post-author">作者: littleboy</span>
    <span id="post-date">2023-11-06 12:16:50</span>
</div>

<div id="article"><h1 id="网络测试工具iperf3"><a href="#网络测试工具iperf3" class="headerlink" title="网络测试工具iperf3"></a>网络测试工具iperf3</h1><p>iPerf3是用于主动测试IP网络上最大可用带宽的工具。它支持时序、缓冲区、协议（TCP，UDP，SCTP与IPv4和IPv6）有关的各种参数。对于每次测试，它都会详细的带宽报告，延迟抖动和数据包丢失。</p>
<h2 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h2><p>iperf官网：<a target="_blank" rel="noopener" href="https://iperf.fr/">https://iperf.fr/</a></p>
<p>iperf官网下载地址（所有版本都可以在这个网址中下载）：<a target="_blank" rel="noopener" href="https://iperf.fr/iperf-download.php">https://iperf.fr/iperf-download.php</a></p>
<p>iperf的命令文档：<a target="_blank" rel="noopener" href="https://iperf.fr/iperf-doc.php">https://iperf.fr/iperf-doc.php</a></p>
<h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><p>错误打开方式：双击这个iperf3.exe是打不开会闪退的</p>
<p>正确打开方式：命令提示符（cmd）运行iperf3.exe</p>
<p>1、下载解压后的文件放置到一个全英文路径里。比如：放到E盘，那么这个文件夹的路径就为：E:\iperf-3.16-win64。</p>
<img src="网络测试工具/image-20240522170022174.png">

<p>2、打开命令提示符，输入“E:”，跳转到E盘。再输入“ cd  \iperf-3.16_64”进入程序文件夹。即为成功。后面可以使用做服务端启动或是客户端启动。见下面步骤：</p>
<img src="网络测试工具/image-20240522165153812.png">

<h2 id="服务端"><a href="#服务端" class="headerlink" title="服务端"></a>服务端</h2><p>在服务端使用，打开iperf3.exe程序后，输入如下命令作为服务端接受数据包。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iperf3.exe -s</span><br></pre></td></tr></table></figure>

<img src="网络测试工具/image-20240522164436328.png">

<h2 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h2><p>作为客户端使用，同样的操作打开iperf3.exe，然后用如下命令发包到服务端做测试。注意：127.0.0.1是演示用的，实际是需要填真实的服务器的ip（也就是上一步服务端的电脑ip）。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iperf3.exe -c 127.0.0.1</span><br></pre></td></tr></table></figure>

<img src="网络测试工具/image-20240522164558377.png">



<h1 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h1><p>详细命令参数，执行，iperf3 -h，可以查看所有的命令信息。以下是中文信息， iPerf 3.1.2 支持的所有参数：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">-p, --port #，Server 端监听、Client 端连接的端口号； </span><br><span class="line">-f, --format [kmgKMG]，报告中所用的数据单位，Kbits, Mbits, KBytes, Mbytes； </span><br><span class="line">-i, --interval #，每次报告的间隔，单位为秒； </span><br><span class="line">-F, --file name，测试所用文件的文件名。如果使用在 Client 端，发送该文件用作测试；如果使用在 Server 端，则是将数据写入该文件，而不是丢弃； </span><br><span class="line">-A, --affinity n/n,m，设置 CPU 亲和力； </span><br><span class="line">-B, --bind ，绑定指定的网卡接口； </span><br><span class="line">-V, --verbose，运行时输出更多细节； </span><br><span class="line">-J, --json，运行时以 JSON 格式输出结果； </span><br><span class="line">--logfile f，输出到文件； </span><br><span class="line">-d, --debug，以 debug 模式输出结果； </span><br><span class="line">-v, --version，显示版本信息并退出； </span><br><span class="line">-h, --help，显示帮助信息并退出。 </span><br><span class="line">Server 端参数： </span><br><span class="line">-s, --server，以 Server 模式运行； </span><br><span class="line">-D, --daemon，在后台以守护进程运行； </span><br><span class="line">-I, --pidfile file，指定 pid 文件； </span><br><span class="line">-1, --one-off，只接受 1 次来自 Client 端的测试，然后退出。 </span><br><span class="line">Client 端参数 </span><br><span class="line">-c, --client ，以 Client 模式运行，并指定 Server 端的地址； </span><br><span class="line">-u, --udp，以 UDP 协议进行测试； </span><br><span class="line">-b, --bandwidth #[KMG][/#]，限制测试带宽。UDP 默认为 1Mbit/秒，TCP 默认无限制； </span><br><span class="line">-t, --time #，以时间为测试结束条件进行测试，默认为 10 秒； </span><br><span class="line">-n, --bytes #[KMG]，以数据传输大小为测试结束条件进行测试； </span><br><span class="line">-k, --blockcount #[KMG]，以传输数据包数量为测试结束条件进行测试； </span><br><span class="line">-l, --len #[KMG]，读写缓冲区的长度，TCP 默认为 128K，UDP 默认为 8K； </span><br><span class="line">--cport ，指定 Client 端运行所使用的 TCP 或 UDP 端口，默认为临时端口； </span><br><span class="line">-P, --parallel #，测试数据流并发数量； </span><br><span class="line">-R, --reverse，反向模式运行（Server 端发送，Client 端接收）； </span><br><span class="line">-w, --window #[KMG]，设置套接字缓冲区大小，TCP 模式下为窗口大小； </span><br><span class="line">-C, --congestion ，设置 TCP 拥塞控制算法（仅支持 Linux 和 FreeBSD ）； </span><br><span class="line">-M, --set-mss #，设置 TCP/SCTP 最大分段长度（MSS，MTU 减 40 字节）； </span><br><span class="line">-N, --no-delay，设置 TCP/SCTP no delay，屏蔽 Nagle 算法； </span><br><span class="line">-4, --version4，仅使用 IPv4； </span><br><span class="line">-6, --version6，仅使用 IPv6； </span><br><span class="line">-S, --tos N，设置 IP 服务类型（TOS，Type Of Service）； </span><br><span class="line">-L, --flowlabel N，设置 IPv6 流标签（仅支持 Linux）； </span><br><span class="line">-Z, --zerocopy，使用 “zero copy”（零拷贝）方法发送数据； </span><br><span class="line">-O, --omit N，忽略前 n 秒的测试； </span><br><span class="line">-T, --title str，设置每行测试结果的前缀； </span><br><span class="line">--get-server-output，从 Server 端获取测试结果； </span><br><span class="line">--udp-counters-64bit，在 UDP 测试包中使用 64 位计数器（防止计数器溢出）。 </span><br></pre></td></tr></table></figure>



<h2 id="设置服务器端口"><a href="#设置服务器端口" class="headerlink" title="设置服务器端口"></a>设置服务器端口</h2><p>运行iperf3在服务器端，如果需要指定的端口号加上-p port</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iperf3 -s -p &lt;端口号&gt;</span><br><span class="line">例：iperf3 -s -p 8888</span><br></pre></td></tr></table></figure>

<h2 id="设置客户端数据流"><a href="#设置客户端数据流" class="headerlink" title="设置客户端数据流"></a>设置客户端数据流</h2><p>运行iperf3在客户端，设置多个并行数据流-P</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iperf3 -c &lt;serverIP&gt; -P streams</span><br><span class="line">例：iperf3 -c 192.168.1.1 -P 3</span><br></pre></td></tr></table></figure>

<h2 id="服务端访问客户端"><a href="#服务端访问客户端" class="headerlink" title="服务端访问客户端"></a>服务端访问客户端</h2><p>运行iperf3在客户端，反向测试（服务器端发送数据到客户端）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iperf3 -c serverIP -R</span><br><span class="line">例：iperf3 -c 192.168.1.1 -R</span><br></pre></td></tr></table></figure>

<h2 id="使用UDP协议"><a href="#使用UDP协议" class="headerlink" title="使用UDP协议"></a>使用UDP协议</h2><p>运行iperf3在客户端，使用UDP协议，并设置使用的测试带宽</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">iperf3 -c serverIP -b 1000M -t 60 -d</span><br><span class="line">例：iperf3 -c 192.168.1.1 -b 1000M -t 60 -d</span><br><span class="line">-c 为客户端运行并要指定服务端的IP地址</span><br><span class="line">-b 表示使用的测试带宽</span><br><span class="line">-t 表示以时间为测试结束条件进行测试，默认为 10 秒;</span><br><span class="line">-d 打印出更详细的debug调试信息</span><br></pre></td></tr></table></figure>

<img src="网络测试工具/image-20240522173654543.png">

<h2 id="退出测试"><a href="#退出测试" class="headerlink" title="退出测试"></a>退出测试</h2><p>终止或者退出测试，快捷键Ctrl + c</p>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p>[<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_43914200/article/details/88966108">网络测试工具]iperf3极简使用教程windows（iperf3.1.3-windows-64bit 命令行版本(cmd）使用心得）_iperf-3.1.3-win64-CSDN博客</a></p>
<p><a target="_blank" rel="noopener" href="https://files.budman.pw/">Home • Directory Lister (budman.pw)</a></p>
</div>
 			<!-- 引入正文 -->
    </div>	
    
<script src="/lib/highlight/highlight.pack.js"></script>
<!-- 引入代码高亮的 js -->
    
<script src="/lib/jquery-3.4.1.min.js"></script>
	<!-- 引入 jquery -->
    
<script src="/lib/jquery.pjax.js"></script>
		<!-- 引入 pjax -->
    
<script src="/js/main.js"></script>
					<!-- 引入 js 文件 -->
	
<script src="/js/search.js"></script>
				<!-- 引入 js 文件 -->	
	<script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {search_path = "search.xml";} var path = '/' + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
	</script>

	<script type="module">import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs'; 
	mermaid.initialize({ theme: 'forest'});
	</script> <!-- 引入 mermaid 流程图 -->
</body></html>